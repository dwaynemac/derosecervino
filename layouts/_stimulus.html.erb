<script type="module">
  import { Application, Controller } from "https://unpkg.com/@hotwired/stimulus/dist/stimulus.js"
  window.Stimulus = Application.start()
  Stimulus.register("navbar", class extends Controller {
    connect() {
      console.log("nabar connected")
      const navLinks = document.querySelectorAll('.nav-item')
      const menuToggle = document.getElementById('navbarSupportedContent')
      const bsCollapse = new bootstrap.Collapse(menuToggle, {
        toggle: false
      })
      navLinks.forEach((l) => {
        l.addEventListener('click', () => {
          if(bsCollapse._isShown()){
            bsCollapse.hide()
          }
        })
      })
    }
  })
  Stimulus.register("show-random", class extends Controller {
    static targets = ["item"]

    connect() {
      console.log("show_random connected")
      let items = this.itemTargets
      let item = items[Math.floor(Math.random()*items.length)]
      item.classList.remove('d-none')
    }
  })
</script>
